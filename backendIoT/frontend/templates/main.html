{% load static %}
<!DOCTYPE html>
<html lang="fr">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projet_Iot_Web</title>
<link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>

<body>
    <header>
    <center><h1>Projet ESP 32</h1></center><br>
    <div class="bande"></div><br>

    <h2 class="presentation">Pr√©sentation</h2>
    <p>La plateforme web √† pour objectif de permettre la visualisation, le suivi et l‚Äôanalyse des donn√©es collect√©es par le syst√®me d‚Äôanalyse d‚Äôenvironnement int√©rieur.
    Elle servira d‚Äôinterface utilisateur entre le r√©seau d‚Äôobjets connect√©s et les utilisateurs finaux
    </p> <br><br>

    <div class="esp-section">
            <div class="esp-header">
                <h2>Mes ESP disponibles</h2>
                <a href="/add-device/" class="btn-add">+ Ajouter un ESP</a>
            </div>
            
            <div class="esp-grid">
                {% for device in devices %}
                <div class="esp-card">
                    <div class="esp-status {% if device.status == 'online' %}online{% else %}offline{% endif %}"></div>
                    <h3>{{ device.name }}</h3>
                    <p>IP: {{ device.ip }}</p>
                    <button class="btn-select" onclick="selectESP('{{ device.id }}')">S√©lectionner</button>
                </div>
                {% empty %}
                <p class="no-esp">Aucun ESP disponible. <a href="/add-device/">Ajoutez-en un</a></p>
                {% endfor %}
            </div>
        </div>
        <br>


    <center><h1>Tableau de bord - Analyse d'environnement</h1></center>
</header>

<section class="cards">
        <div class="card">
            
            <h3> <div class="card-icon">Temp√©ratureüå°Ô∏è</div></h3>
            <p class="value">-- ¬∞C</p>
        </div>
        <div class="card">
            
            <h3><div class="card-icon">Humidit√©üíß</div></h3>
            <p class="value">-- %</p>
        </div>
        <div class="card">
            
            <h3><div class="card-icon">Pr√©senceüë§</div></h3>
            <p class="value">-- O/N</p>
        </div>
    </section>

    <section class="Historique">
        <h2>Historique des mesures</h2>

        <div class="filters">
            <select>
                <option value="">Tous les capteurs</option>
                <option value="temperature">Temp√©rature</option>
                <option value="humidite">Humidit√©</option>
                <option value="detection">Detection de pr√©sence</option>
            </select>

            <select>
                <option value="">Toute la p√©riode</option>
                <option value="24h">Derni√®res 24h</option>
                <option value="7j">7 derniers jours</option>
                <option value="30j">30 derniers jours</option>
            </select>
        </div>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Capteur</th>
                        <th>Valeur</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- donn√©es de test -->
                    <tr> 
                        <td>2025-11-20 14:32</td>
                        <td>Temp√©rature</td>
                        <td>23.5 ¬∞C</td>
                    </tr>
                    <tr>
                        <td>2025-11-20 14:32</td>
                        <td>Humidit√©</td>
                        <td>47 %</td>
                    </tr>
                    <tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr>
                    <tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr>
                    <tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr>
                    <tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr>
                    <tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr><tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr><tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr><tr>
                        <td>2025-11-20 14:32</td>
                        <td>Niveau sonore</td>
                        <td>32 dB</td>
                    </tr>
                    <!-- donn√©es futures ici -->
                </tbody>
            </table>
        </div>

    </section>

    <script>
        function selectESP(espId) {
            console.log('ESP s√©lectionn√©:', espId);
            // Tu pourras ajouter la logique pour charger les donn√©es de cet ESP
            alert('ESP ' + espId + ' s√©lectionn√© !');
        }
    </script>
</body>
<footer>

</footer>
</html>